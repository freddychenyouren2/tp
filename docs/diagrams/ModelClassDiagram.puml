@startuml
!include style.puml
skinparam arrowThickness 1.1
skinparam arrowColor MODEL_COLOR
skinparam classBackgroundColor MODEL_COLOR


Package Model as ModelPackage <<Rectangle>>{
Class "<<interface>>\nReadOnlyAddressBook" as ReadOnlyAddressBook
Class "<<interface>>\nReadOnlyUserPrefs" as ReadOnlyUserPrefs
Class "<<interface>>\nModel" as Model
Class AddressBook
Class ModelManager
Class UserPrefs

'Entities are in their respective lists
Class UniquePatientList
Class UniqueDentistList
Class UniqueAppointmentList
Class UniqueTreatmentList

'Main Entities in App
Class Person
Class Patient
Class Dentist
Class Appointment
Class Treatment

'Common class for Patient and Dentist
Class Address
Class Email
Class Name
Class Phone
Class Tag

'Dentist specific class
Class Specialization
Class Yoe

'Patient specific class
Class Gender
Class BirthDate
Class Service

'Appointment specific class
Class AppointmentDate
Class AppointmentTime

'Treatment specific class
Class TreatmentCost
Class TreatmentName
Class TreatmentTime

Class I #FFFFFF
}

Class HiddenOutside #FFFFFF
HiddenOutside ..> Model

AddressBook .up..|> ReadOnlyAddressBook

ModelManager .up.|> Model
Model .right.> ReadOnlyUserPrefs
Model .left.> ReadOnlyAddressBook
ModelManager -left-> "1" AddressBook
ModelManager -right-> "1" UserPrefs
UserPrefs .up..|> ReadOnlyUserPrefs

AddressBook *------> "1" UniqueAppointmentList
AddressBook *--> "1" UniquePatientList
AddressBook *--> "1" UniqueDentistList
AddressBook *------> "1" UniqueTreatmentList
Person *---> Name
Person *---> Phone
Person *---> Email
Person *---> Address
Person *---> "*" Tag

UniquePatientList --> "~* all" Patient
Patient -up-|> Person
Patient *--> BirthDate
Patient *--> Gender
Patient *--> Service

UniqueDentistList --> "~* all " Dentist
Dentist -up-|> Person
Dentist *--> Specialization
Dentist *--> Yoe

UniqueAppointmentList --> "~* all " Appointment
Appointment *--> AppointmentDate
Appointment *--> AppointmentTime

UniqueTreatmentList --> "~* all " Treatment
Treatment *--> TreatmentCost
Treatment *--> TreatmentName
Treatment *--> TreatmentTime

'Person -[hidden]up--> I
'UniquePersonList -[hidden]right-> I

Name -[hidden]right-> Phone
Phone -[hidden]right-> Address
Address -[hidden]right-> Email

ModelManager --> "~* filtered" Person
@enduml
